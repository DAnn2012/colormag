!function(){var e,t,n,o,i,s;if((e=document.getElementById("cm-primary-nav"))&&void 0!==(t=e.getElementsByClassName("cm-menu-toggle")[0]))if(void 0!==(n=e.getElementsByTagName("ul")[0])){for(n.setAttribute("aria-expanded","false"),-1===n.className.indexOf("nav-menu")&&(n.className+="nav-menu"),t.onclick=function(){-1!==e.className.indexOf("cm-mobile-nav")?(e.className=e.className.replace("cm-mobile-nav","cm-primary-nav"),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false")):(e.className=e.className.replace("cm-primary-nav","cm-mobile-nav"),t.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"))},i=0,s=(o=n.getElementsByTagName("a")).length;i<s;i++)o[i].addEventListener("focus",r,!0),o[i].addEventListener("blur",r,!0);!function(e){var t,n,o=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window&&window.matchMedia("(min-width: 768px)").matches)for(t=function(e){var t,n=this.parentNode;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(e.preventDefault(),t=0;t<n.parentNode.children.length;++t)n!==n.parentNode.children[t]&&n.parentNode.children[t].classList.remove("focus");n.classList.add("focus")}},n=0;n<o.length;++n)o[n].addEventListener("touchstart",t,!1)}(e)}else t.style.display="none";function r(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}(),window.cmNavigation=new function(){const e=this;this.mobileMenu=document.getElementById("cm-toggle-menu"),this.primaryMenu=document.getElementById("cm-primary-nav"),this.toggleMenu=document.getElementById("cm-mobile-nav"),this.toggleBtn=this.mobileMenu?this.mobileMenu.getElementsByClassName("cm-menu-toggle")[0]:null,this.mobileSubMenu=this.toggleMenu?this.toggleMenu.querySelectorAll(".sub-menu"):null,this.subMenu=this.primaryMenu?this.primaryMenu.querySelectorAll(".sub-menu"):null,this.linksWithChildren=this.primaryMenu?this.primaryMenu.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"):null,this.links=this.primaryMenu?this.primaryMenu.getElementsByTagName("a"):null,this.secondaryMenu=document.getElementById("cm-drawer-box"),this.openSecondaryMenu=document.querySelector(".cm-drawer-toggle"),this.closeSecondaryMenu=document.querySelector(".close-secondary-menu"),this.toggleSecondaryBtn=document.getElementById("cm-secondary-menu"),this.secondarySubMenu=this.toggleSecondaryBtn?this.toggleSecondaryBtn.querySelectorAll(".sub-menu"):null,this.secondaryMenuOverlay=document.getElementById("cm-secondary-nav-overlay"),this.slideUp=(e,t=300)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},this.slideDown=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;const o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},this.slideToggle=(t,n=300)=>"none"===window.getComputedStyle(t).display?e.slideDown(t,n):e.slideUp(t,n),this.toggleBtnIconTransition=function(e){const t=e.getElementsByTagName("span");Array.from(t).forEach((function(e,t){e.classList.toggle("active")}))},this.trapFocus=function(e,t=0){e.addEventListener("keydown",(t=>{if("true"!==e.querySelector(".cm-menu-toggle").getAttribute("aria-expanded"))return;let n;n=Array.prototype.slice.call(e.querySelectorAll('a, button, input[type="search"], span[tabindex="0"]')).filter((function(e){return null!==e.closest(".cm-mobile-nav")&&null!==e.offsetParent})),n.unshift(document.querySelector(".cm-menu-toggle"));const o=n[0],i=n[n.length-1];"Tab"===t.key&&(t.shiftKey?document.activeElement===o&&(t.preventDefault(),i.focus()):document.activeElement===i&&(t.preventDefault(),o.focus()))}))},this.toggleMobileNavigation=function(t){t.preventDefault(),e.toggleBtnIconTransition(this),e.toggleMenu.classList.toggle("cm-open"),e.slideToggle(e.toggleMenu,300),"true"===e.toggleBtn.getAttribute("aria-expanded")?e.toggleBtn.setAttribute("aria-expanded","false"):(e.toggleBtn.setAttribute("aria-expanded","true"),e.trapFocus(e.mobileMenu,0))},this.toggleSecondaryNavigation=function(t){t.preventDefault(),e.secondaryMenu.classList.toggle("cm-open"),"true"===e.closeSecondaryMenu.getAttribute("aria-expanded")?e.closeSecondaryMenu.setAttribute("aria-expanded","false"):e.closeSecondaryMenu.setAttribute("aria-expanded","true")},this.toggleTertiaryNavigation=function(t){t.preventDefault(),e.toggleTertiaryMenu.classList.toggle("cm-open")},this.toggleSubMenu=function(t){t.preventDefault(),this.classList.toggle("active");const n=t.currentTarget.parentNode.querySelector(".sub-menu");e.slideToggle(n)},this.toggleFocus=function(){if("focus"===event.type||"blur"===event.type){let e=this;for(;!e.classList.contains("nav-menu");)"li"===e.tagName.toLowerCase()&&e.classList.toggle("focus"),e=e.parentNode}if("touchstart"===event.type){const e=this.parentNode;event.preventDefault();for(const t of e.parentNode.children)e!==t&&t.classList.remove("focus");e.classList.toggle("focus")}},this.init=function(){if(e.primaryMenu){e.primaryMenu.classList.contains("nav-menu")||e.primaryMenu.classList.add("nav-menu"),e.toggleBtn&&e.toggleBtn.addEventListener("click",e.toggleMobileNavigation),e.openSecondaryMenu&&(e.openSecondaryMenu.addEventListener("click",this.toggleSecondaryNavigation),e.closeSecondaryMenu.addEventListener("click",this.toggleSecondaryNavigation)),e.showTertiaryMenu&&e.showTertiaryMenu.addEventListener("click",this.toggleTertiaryNavigation),null!==e.mobileSubMenu&&e.mobileSubMenu.forEach((function(t,n){t.parentNode.querySelector(".cm-submenu-toggle").addEventListener("click",e.toggleSubMenu)})),null!==e.mobileSubMenu&&e.mobileSubMenu.forEach((function(t,n){t.parentNode.querySelector(".cm-submenu-toggle").addEventListener("keypress",e.toggleSubMenu)})),null!==e.secondarySubMenu&&e.secondarySubMenu.forEach((function(t,n){t.parentNode.querySelector(".cm-submenu-toggle").addEventListener("click",e.toggleSubMenu)}));for(const e of this.links)e.addEventListener("focus",this.toggleFocus,!0),e.addEventListener("blur",this.toggleFocus,!0);for(const e of this.linksWithChildren)e.addEventListener("touchstart",this.toggleFocus,{passive:!0})}else e.toggleBtn.style.display="none"},this.init()};