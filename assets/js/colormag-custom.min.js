jQuery(document).ready((function(){var e,i,r,t,a,o,n,s,c,u,l,d=function(){jQuery("#cm-masthead .search-form-top").removeClass("show"),jQuery("#cm-content").removeClass("backdrop")};if(jQuery(".search-top").click((function(){jQuery(this).next("#cm-masthead .search-form-top").toggleClass("show"),jQuery("#cm-content").toggleClass("backdrop"),setTimeout((function(){jQuery("#cm-masthead .search-form-top input").focus()}),200),jQuery(document).on("keyup",(function(e){27===e.keyCode&&jQuery("#cm-masthead .search-form-top").hasClass("show")&&d()})),jQuery(document).on("click.outEvent",(function(e){e.target.closest(".cm-top-search")||(d(),jQuery(document).off("click.outEvent"))}))})),jQuery("#scroll-up").hide(),jQuery(window).scroll((function(){jQuery(this).scrollTop()>1e3?jQuery("#scroll-up").fadeIn():jQuery("#scroll-up").fadeOut()})),jQuery("a#scroll-up").click((function(){return jQuery("body,html").animate({scrollTop:0},800),!1})),jQuery(".cm-menu-primary-container .menu-item-has-children").append('<span class="cm-sub-toggle"> <i class="fa fa-angle-right"></i> </span>'),jQuery(".cm-menu-primary-container .cm-sub-toggle").click((function(){jQuery(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),jQuery(this).children(".fa-angle-right").first().toggleClass("fa-angle-down")})),jQuery(document).on("click","#cm-primary-nav ul li.menu-item-has-children > a",(function(e){var i=jQuery(this).parent(".menu-item-has-children");!i.hasClass("focus")&&jQuery(window).width()<=768&&(i.addClass("focus"),e.preventDefault(),i.children(".sub-menu").css({display:"block"}))})),jQuery(window).on("load",(function(){if(window.matchMedia("(max-width: 768px)").matches&&jQuery("#cm-masthead .sticky-wrapper, #cm-masthead .headroom").length>=1){var e=jQuery(window).height()-88,i=jQuery("#cm-primary-nav").find("ul").first();i.css("max-height",e),i.addClass("menu-scrollbar")}})),jQuery(".wp-block-group__inner-container h2").wrap('<div class="block-title"></div>'),void 0!==jQuery.fn.magnificPopup&&(jQuery(".image-popup").magnificPopup({type:"image"}),jQuery(".gallery").find('a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".ico"]').magnificPopup({type:"image",gallery:{enabled:!0}}),jQuery(".colormag-ticker-news-popup-link").magnificPopup({type:"ajax",callbacks:{parseAjax:function(e){var i=jQuery.magnificPopup.instance,r=jQuery(i.currItem.el[0]).data("fragment");e.data=jQuery(e.data).find(r)}}})),void 0!==jQuery.fn.fitVids&&jQuery(".fitvids-video").fitVids(),void 0!==jQuery.fn.newsTicker){if("undefined"!=typeof colormag_ticker_settings){var p=colormag_ticker_settings.breaking_news_slide_effect,y=parseInt(colormag_ticker_settings.breaking_news_duration,10),m=parseInt(colormag_ticker_settings.breaking_news_speed,10);jQuery(".newsticker").newsTicker({row_height:20,max_rows:1,direction:p,speed:m,duration:y,autostart:1,pauseOnHover:1,start:function(){jQuery(".newsticker").css("visibility","visible")}})}var f=jQuery(".cm-breaking-news");jQuery(f).each((function(){!function(e,i,r,t,a,o,n){jQuery(e).newsTicker({row_height:o,max_rows:n,duration:a,direction:t,prevButton:jQuery(i),nextButton:jQuery(r),start:function(){jQuery(".cm-breaking-news-slider-widget").css({visibility:"visible"})}})}(jQuery(this).children(".cm-breaking-news-slider-widget"),jQuery(this).children(".fa-arrow-up"),jQuery(this).children(".fa-arrow-down"),jQuery(this).children(".cm-breaking-news-slider-widget").data("direction"),jQuery(this).children(".cm-breaking-news-slider-widget").data("duration"),jQuery(this).children(".cm-breaking-news-slider-widget").data("rowheight"),jQuery(this).children(".cm-breaking-news-slider-widget").data("maxrows"))}))}void 0!==jQuery.fn.sticky&&((g=jQuery("#wpadminbar")).length?jQuery("#cm-primary-nav").sticky({topSpacing:g.height(),zIndex:999}):jQuery("#cm-primary-nav").sticky({topSpacing:0,zIndex:999}));if(jQuery(".wp-block-search__input").attr("placeholder","Search posts"),jQuery(".wp-element-button").wrap('<button class="search-icon" type="submit"></button>'),void 0!==jQuery.fn.headroom){var h=jQuery("#cm-primary-nav").offset().top,g=jQuery("#wpadminbar"),j=jQuery(".cm-primary-nav").width();g.length&&(h=g.height()+jQuery("#cm-primary-nav").offset().top),jQuery(".cm-primary-nav").headroom({offset:h,tolerance:0,onPin:function(){g.length?jQuery(".cm-primary-nav").css({top:g.height(),position:"fixed",width:j}):jQuery(".cm-primary-nav").css({top:0,position:"fixed",width:j})},onTop:function(){jQuery(".cm-primary-nav").css({top:0,position:"relative"})}})}if(void 0!==jQuery.fn.bxSlider&&(jQuery(".cm-slider-area-rotate").bxSlider({mode:"horizontal",speed:1500,auto:!0,pause:5e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1,tickerHover:!0,onSliderLoad:function(){jQuery(".cm-slider-area-rotate").css("visibility","visible"),jQuery(".cm-slider-area-rotate").css("height","auto")}}),jQuery(".blog .gallery-images, .archive .gallery-images, .search .gallery-images, .single-post .gallery-images").bxSlider({mode:"fade",speed:1500,auto:!0,pause:3e3,adaptiveHeight:!0,nextText:"",prevText:"",nextSelector:".slide-next",prevSelector:".slide-prev",pager:!1})),void 0!==jQuery.fn.easytabs&&jQuery(".cm-tabbed-widget").easytabs(),void 0!==jQuery.fn.theiaStickySidebar&&"undefined"!=typeof ResizeSensor){var Q=jQuery("#site-navigation-sticky-wrapper").outerHeight();null===Q&&(Q=0),jQuery("#cm-primary, #cm-secondary, #tertiary").theiaStickySidebar({additionalMarginTop:40+Q})}function w(e){e.find(".player-frame").each((function(){var e=jQuery(this),i=jQuery('[data-id="'+e.attr("id")+'"]');e.addVideoEvent("play",(function(e,r,t){i.removeClass("is-paused").addClass("is-playing")})),e.addVideoEvent("pause",(function(e,r,t){i.removeClass("is-playing").addClass("is-paused")})),e.addVideoEvent("finish",(function(e,r,t){i.removeClass("is-paused is-playing")}))}))}if(jQuery(".video-player").each((function(e){var i=jQuery(this),r="video-playlist-item-"+e,t=jQuery(this).find(".player-frame");i.attr("id",r),t.video(),w(i),t.addVideoEvent("ready",(function(){t.css("visibility","visible").fadeIn()})),i.on("click",".video-playlist-item",(function(){var e=jQuery(this),r=e.data("id"),t=jQuery("#"+r),a=e.data("src");i.find(".player-frame").each((function(){jQuery(this).pauseVideo().hide()})),t.length?t.playVideo():(i.find(".video-frame").append('<iframe id="'+r+'" class="player-frame" src="'+a+'" frameborder="0" width="100%" height="434" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),(t=jQuery("#"+r)).video(),t.addVideoEvent("ready",(function(e,i,r){t.playVideo()}))),t.css("visibility","visible").fadeIn(),w(i)}))})),"undefined"!=typeof google&&"undefined"!=typeof colormag_google_maps_widget_settings){e=parseFloat(colormag_google_maps_widget_settings.longitude),i=parseFloat(colormag_google_maps_widget_settings.latitude),r=parseInt(colormag_google_maps_widget_settings.zoom_size),t={lat:i,lng:e},a=new google.maps.Map(document.getElementById("GoogleMaps"),{zoom:r,center:t}),new google.maps.Marker({position:t,map:a}),jQuery("#GoogleMaps").css({height:colormag_google_maps_widget_settings.height})}c=jQuery(".share-buttons #facebook")[0],u=jQuery(".share-buttons #twitter")[0],l=jQuery(".share-buttons #pinterest")[0],c&&jQuery(c).click((function(e){return e.preventDefault(),(o=window.open("https://www.facebook.com/sharer/sharer.php?u="+document.URL+"&p[title]="+document.title,"facebook-popup","height=350,width=600")).focus&&o.focus(),!1})),u&&jQuery(u).click((function(e){return e.preventDefault(),(n=window.open("https://twitter.com/share?text="+document.title+"&url="+document.URL,"twitter-popup","height=350,width=600")).focus&&n.focus(),!1})),l&&jQuery(l).click((function(e){e.preventDefault();var i=jQuery(".cm-posts .cm-featured-image img").attr("src")?jQuery(".cm-posts .cm-featured-image img").attr("src"):"";return(s=window.open("https://pinterest.com/pin/create/button/?url="+document.URL+"&media="+i+"&description="+document.title,"pinterest-popup","height=350,width=600")).focus&&s.focus(),!1}))})),jQuery((function(){var e=jQuery("#related-posts-wrapper-flyout");function i(){jQuery("#cm-primary").outerHeight();var i=jQuery(this).scrollTop()+jQuery(this).height();i>jQuery(document).height()-i?e.addClass("flyout"):e.removeClass("flyout")}jQuery(window).on("scroll",i),jQuery("#flyout-related-post-close").click((function(){e.removeClass("flyout"),jQuery(window).off("scroll",i)}))}));